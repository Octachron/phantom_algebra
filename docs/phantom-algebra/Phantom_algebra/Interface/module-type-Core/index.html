<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core (phantom-algebra.Phantom_algebra.Interface.Core)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../../index.html">phantom-algebra</a></span></nav><header><h1><span class="keyword">Module type</span> <span class="module-path">Phantom_algebra.Interface.Core</span></h1></header><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>(+'dim, +'rank) t</code><code></code><code></code></div><div class="doc"><p>Tensor core type:
</p><ul><li>rank is either 2 (for matrix), 1 (for vector) or zero for scalars</li><li><p>dim belongs to </p><h2>,2,3,4</h2><p>.</p></li></ul></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : Format.formatter <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Printer function</p></div></div><div class="spec type" id="type-scalar"><a href="#type-scalar" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x scalar</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-z">Type_functions.z</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"><h2>Type abreviations</h2></div></div><div class="spec type" id="type-vec2"><a href="#type-vec2" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x vec2</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"></div></div><div class="spec type" id="type-vec3"><a href="#type-vec3" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x vec3</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-three">Type_functions.three</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"></div></div><div class="spec type" id="type-vec4"><a href="#type-vec4" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x vec4</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-four">Type_functions.four</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"></div></div><div class="spec type" id="type-mat2"><a href="#type-mat2" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x mat2</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"></div></div><div class="spec type" id="type-mat3"><a href="#type-mat3" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x mat3</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-three">Type_functions.three</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"></div></div><div class="spec type" id="type-mat4"><a href="#type-mat4" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>+'x mat4</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span> <a href="../../Type_functions/index.html#type-four">Type_functions.four</a>, <span class="type-var">'b</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code><code><span class="keyword"> constraint </span><span class="type-var">'x</span> = <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span></code></div><div class="doc"></div></div><div class="spec val" id="val-scalar"><a href="#val-scalar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>scalar : <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-scalar">scalar</a></code></div><div class="doc"><h2>Constructors</h2></div></div><div class="spec val" id="val-(~+)"><a href="#val-(~+)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(~+) : <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-scalar">scalar</a></code></div><div class="doc"><p><code class="code">scalar f</code> build a scalar from the naked scalar type.
It can be abbreviated to <code class="code">(+s)</code>.</p></div></div><div class="spec val" id="val-vec2"><a href="#val-vec2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vec2 : <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec2">vec2</a></code></div><div class="doc"></div></div><div class="spec val" id="val-vec3"><a href="#val-vec3" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vec3 : <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec3">vec3</a></code></div><div class="doc"></div></div><div class="spec val" id="val-vec4"><a href="#val-vec4" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vec4 : <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec4">vec4</a></code></div><div class="doc"></div></div><div class="spec val" id="val-mat2"><a href="#val-mat2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mat2 : <span class="type-var">_</span> <a href="index.html#type-vec2">vec2</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec2">vec2</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-mat2">mat2</a></code></div><div class="doc"></div></div><div class="spec val" id="val-mat3"><a href="#val-mat3" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mat3 : <span class="type-var">_</span> <a href="index.html#type-vec3">vec3</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec3">vec3</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec3">vec3</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-mat3">mat3</a></code></div><div class="doc"></div></div><div class="spec val" id="val-mat4"><a href="#val-mat4" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mat4 : <span class="type-var">_</span> <a href="index.html#type-vec4">vec4</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec4">vec4</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec4">vec4</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec4">vec4</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-mat4">mat4</a></code></div><div class="doc"></div></div><h2>Vector stretching and concatenation</h2><div class="spec val" id="val-vec2'"><a href="#val-vec2'" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vec2' : ([&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a> ], [&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-z">Type_functions.z</a> ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec2">vec2</a></code></div><div class="doc"><p><code class="code">vec$n' v</code> extends a vector of dimension <code class="code">d &lt;= n</code>
to a vector of dimension n by repeating the last value
of the vector</p></div></div><div class="spec val" id="val-vec3'"><a href="#val-vec3'" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vec3' : ([&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-three">Type_functions.three</a> ], [&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-z">Type_functions.z</a> ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec3">vec3</a></code></div><div class="doc"></div></div><div class="spec val" id="val-vec4'"><a href="#val-vec4'" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>vec4' : ([&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-three">Type_functions.three</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-four">Type_functions.four</a> ], [&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-z">Type_functions.z</a> ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-vec4">vec4</a></code></div><div class="doc"></div></div><div class="spec val" id="val-(|+|)"><a href="#val-(|+|)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(|+|) : ((<span class="type-var">'dim1</span>, <span class="type-var">'dim2</span>, <span class="type-var">'dim3</span>, <span class="type-var">_</span>) <a href="../../Type_functions/index.html#type-nat_sum">Type_functions.nat_sum</a>, [&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-z">Type_functions.z</a> ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim2</span>, [&lt; <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a> | <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-z">Type_functions.z</a> ]) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim3</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Vector concatenation :
<code class="code"> v |+| w </code> is <code class="code">(v_0, v_1, … , v_{dim-1}, w_0, …, w_{dim-1})</code></p></div></div><h2>Map functions</h2><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : (<a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-map2"><a href="#val-map2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map2 : (<a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><h3>Core linear algebra functions</h3><div class="spec val" id="val-(+)"><a href="#val-(+)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(+) : (<span class="type-var">'dim1</span>, (<span class="type-var">'rank1</span>, <span class="type-var">'rank2</span>, <span class="type-var">'rank3</span>, <span class="type-var">'dim1</span>, <span class="type-var">'dim2</span>, <span class="type-var">'dim3</span>, <span class="type-var">_</span>) <a href="../../Type_functions/index.html#type-sum">Type_functions.sum</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim2</span>, <span class="type-var">'rank2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim3</span>, <span class="type-var">'rank3</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">x + y</code> is the standard vector sum, except for scalar argument
which are broadcasted to a constant tensor</p></div></div><div class="spec val" id="val-(&lt;+&gt;)"><a href="#val-(&lt;+&gt;)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(&lt;+&gt;) : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">x &lt;+&gt; y</code> is the standard vector sum, without broadcasting</p></div></div><div class="spec val" id="val-(~-)"><a href="#val-(~-)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(~-) : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">~-x</code> is the standard addition inverse</p></div></div><div class="spec val" id="val-(-)"><a href="#val-(-)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(-) : (<span class="type-var">'a</span>, (<span class="type-var">'rank1</span>, <span class="type-var">'rank2</span>, <span class="type-var">'rank3</span>, <span class="type-var">'dim1</span>, <span class="type-var">'dim2</span>, <span class="type-var">'dim3</span>, <span class="type-var">_</span>) <a href="../../Type_functions/index.html#type-sum">Type_functions.sum</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'rank2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'rank3</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">x - y</code> is the standard vector difference, except for scalar
argument which are broadcasted to a constant tensor</p></div></div><div class="spec val" id="val-(&lt;-&gt;)"><a href="#val-(&lt;-&gt;)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(&lt;-&gt;) : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">x &lt;-&gt; y</code> is the standard vector difference, without broadcasting</p></div></div><div class="spec val" id="val-(*)"><a href="#val-(*)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(*) : (<span class="type-var">'dim1</span>, (<span class="type-var">'rank1</span>, <span class="type-var">'rank2</span>, <span class="type-var">'rank3</span>, <span class="type-var">'dim1</span>, <span class="type-var">'dim2</span>, <span class="type-var">'dim3</span>, <span class="type-var">_</span>) <a href="../../Type_functions/index.html#type-product">Type_functions.product</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim2</span>, <span class="type-var">'rank2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim3</span>, <span class="type-var">'rank3</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code"> x * y</code> is:
</p><ul><li>the external product if x or y is a scalar</li><li>the matrix product if x or y is a matrix</li><li>the element-wise (hadamard) product otherwise</li></ul></div></div><div class="spec val" id="val-(/)"><a href="#val-(/)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(/) : (<span class="type-var">'dim1</span>, (<span class="type-var">'rank1</span>, <span class="type-var">'rank2</span>, <span class="type-var">'rank3</span>, <span class="type-var">'dim1</span>, <span class="type-var">'dim2</span>, <span class="type-var">'dim3</span>, <span class="type-var">_</span>) <a href="../../Type_functions/index.html#type-div">Type_functions.div</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim2</span>, <span class="type-var">'rank2</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim3</span>, <span class="type-var">'rank3</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code"> x / y</code> is:
</p><ul><li>the external product division if x or y is a scalar</li><li>the right matrix division if y is a matrix and x is either a matrix
or a vector</li><li>the element-wise division if both x and y are vectors</li></ul></div></div><h3>Exponentiation functions</h3><div class="spec val" id="val-(**)"><a href="#val-(**)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(**) : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code"> t ** k</code> is <code class="code"> t * … * t </code> k-times</p></div></div><div class="spec val" id="val-exp"><a href="#val-exp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>exp : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">exp</code> is the algebraic exponential:
<code class="code">exp m = 1 + m + m ** 2 / 2 + m **3 / 3! + … </code></p></div></div><h3>Scalar products and norms</h3><div class="spec val" id="val-(|*|)"><a href="#val-(|*|)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(|*|) : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code"> (x|*|y)</code> is the canonical scalar product</p></div></div><div class="spec val" id="val-norm"><a href="#val-norm" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>norm : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code">norm x</code> is the canonical 2-norm of x</p></div></div><div class="spec val" id="val-normalize"><a href="#val-normalize" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>normalize : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">normalize x</code> is <code class="code">x / scalar (norm x)</code></p></div></div><div class="spec val" id="val-orthonormalize"><a href="#val-orthonormalize" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>orthonormalize : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a> list</code></div><div class="doc"><p><code class="code">orthonomalize [v_0;...;v_n]</code> returns a list of orthonormal vectors
<code class="code">[w_0;...;w_k]</code> that spans the same vector subspace as <code class="code">v_0;...;v_n</code>.
If the family <code class="code">[v_0;...;v_n]</code> was free then <code class="code">k = n</code>, otherwise <code class="code">k&lt;n</code>.</p></div></div><div class="spec val" id="val-distance"><a href="#val-distance" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>distance : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code">distance x y</code> is <code class="code">norm (x - y)</code></p></div></div><div class="spec val" id="val-norm_1"><a href="#val-norm_1" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>norm_1 : (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code">norm_1 x</code> is ∑ |x_i|</p></div></div><div class="spec val" id="val-norm_q"><a href="#val-norm_q" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>norm_q : float <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">'rank</span>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code">norm_q q x</code> is (∑ |x_i|^q) ^ 1/q</p></div></div><h3>Cross and external product</h3><div class="spec val" id="val-cross"><a href="#val-cross" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>cross : ((<span class="type-var">'dim</span>, <span class="type-var">'dim2</span><span class="keyword"> * </span><span class="type-var">'rank2</span>, <span class="type-var">_</span>) <a href="../../Type_functions/index.html#type-cross">Type_functions.cross</a>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim2</span>, <span class="type-var">'rank2</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">cross v w</code> is the cross product, it maps either two 3d vectors to
a 3d pseudo-vector, or two 2d vectors to a scalar</p></div></div><div class="spec val" id="val-(^)"><a href="#val-(^)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(^) : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-one">Type_functions.one</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p>See <a href="index.html#val-cross">cross</a> for the 2d and 3d cross-product for vectors
<code class="code"> v ^ w </code> is the infinitesimal rotation matrix in the plane
generated by <code class="code">v</code> and <code class="code">w</code> with an amplitude <code class="code">|v||w| sin θ </code>.
In other words the matrix representation of the 2-form <code class="code">dv ^ dw</code> in
the corresponding graded algebra.</p></div></div><h3>More linear algebra functions</h3><div class="spec val" id="val-commutator"><a href="#val-commutator" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>commutator : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">commutator m n</code> is <code class="code">m * n - n * m</code></p></div></div><div class="spec val" id="val-anticommutator"><a href="#val-anticommutator" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>anticommutator : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">anticommutator m n</code> is <code class="code">m * n + n * m</code></p></div></div><div class="spec val" id="val-trace"><a href="#val-trace" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>trace : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code">trace m</code> is <code class="code">∑_i m_ii</code></p></div></div><div class="spec val" id="val-det"><a href="#val-det" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>det : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-k">k</a></code></div><div class="doc"><p><code class="code">det m</code> is the signed volume of the convex hull of
of the matrix rows</p></div></div><div class="spec val" id="val-transpose"><a href="#val-transpose" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>transpose : (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'dim</span>, <span class="type-var">_</span> <a href="../../Type_functions/index.html#type-two">Type_functions.two</a>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">transpose m</code> is the matrix with row and column reversed</p></div></div></body></html>